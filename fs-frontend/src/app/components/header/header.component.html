<div class="header-wrapper" [ngClass]="{ 'menu-is-open': isMenuOpen }">
  <mat-toolbar class="mat-toolbar" [ngClass]="{ hidden: isNavbarHidden, expanded: isMenuOpen }">
    <div class="title">
      <a draggable="false" routerLink="/">
        <img src="dog256.png" alt="Dog Icon" draggable="false" /> 
        Fur<span style="color: rgb(255 193 101)">ever</span>&nbsp; Home
      </a>
    </div>

    <!-- Desktop buttons -->
    <div class="desktop-login-btn" *ngIf="authenticated && showButtons">
      <button *ngIf="roles.includes('admin')" routerLink="/admin" [class.active]="isRouteActive('/admin')">Admin</button>
      <button routerLink="/browse" [class.active]="isRouteActive('/browse')">Browse</button>
      <button *ngIf="roles.includes('seller')" routerLink="/seller" [class.active]="isRouteActive('/seller')">My Pets</button>
      <button *ngIf="authenticated" routerLink="/profile" [class.active]="isRouteActive('/profile')">Profile</button>
      <div class="image-container">
        <img class="profilePic" [src]="profile?.profilePic" />
      </div>
      <button (click)="logout()">Logout</button>
    </div>
    <div class="desktop-login-btn" *ngIf="!authenticated && showButtons">
      <button routerLink="/browse" [class.active]="isRouteActive('/browse')">Browse</button>
      <button routerLink="/login" [class.active]="isRouteActive('/login')">Login</button>
    </div>

    <!-- Mobile hamburger -->
    <button
      class="hamburger-btn"
      mat-icon-button
      (click)="toggleMenu()"
      *ngIf="showHamburger"
    >
      <mat-icon>menu</mat-icon>
    </button>

    <!-- Mobile menu -->
    <div class="mobile-menu-content" [ngClass]="{ open: isMenuOpen }">
        <div class="mobile-login-btn" *ngIf="authenticated && showButtons">
            <button *ngIf="roles.includes('admin')" routerLink="/admin" [class.active]="isRouteActive('/admin')" (click)="onMenuItemClick()">Admin</button>
            <button routerLink="/browse" [class.active]="isRouteActive('/browse')" (click)="onMenuItemClick()">Browse</button>
            <button *ngIf="roles.includes('seller')" routerLink="/seller" [class.active]="isRouteActive('/seller')" (click)="onMenuItemClick()">My Pets</button>
            <button *ngIf="authenticated" routerLink="/profile" [class.active]="isRouteActive('/profile')" (click)="onMenuItemClick()">Profile</button>
            <div class="image-container">
            <img class="profilePic" [src]="profile?.profilePic" />
            </div>
            <button (click)="logout(); onMenuItemClick()">Logout</button>
        </div>
        <div class="mobile-login-btn" *ngIf="!authenticated && showButtons">
            <button routerLink="/browse" [class.active]="isRouteActive('/browse')" (click)="onMenuItemClick()">Browse</button>
            <button routerLink="/login" [class.active]="isRouteActive('/login')" (click)="onMenuItemClick()">Login</button>
        </div>
    </div>
  </mat-toolbar>
</div>

<div>
  <mat-card>
    <mat-card-title>Register</mat-card-title>
    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input
            type="email"
            matInput
            placeholder="Email"
            formControlName="email"
          />
          <mat-error
            *ngIf="
              registerForm.get('email')?.touched &&
              registerForm.get('email')?.hasError('required')
            "
          >
            Email is required
          </mat-error>
          <mat-error
            *ngIf="
              registerForm.get('email')?.touched &&
              registerForm.get('email')?.hasError('email')
            "
          >
            Email must be a valid Email
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Password*</mat-label>
          <input
            type="password"
            matInput
            placeholder="Password*"
            formControlName="password"
          />
          <mat-error
            *ngIf="registerForm.get('password')?.hasError('passwordStrength')"
          >
            {{ registerForm.get("password")?.getError("passwordStrength") }}
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Repeat Password*</mat-label>
          <input
            type="password"
            matInput
            placeholder="Repeat Password*"
            formControlName="password2"
          />
          <mat-hint *ngIf="registerForm.errors?.['passwordMismatch']">
            Passwords do not match
          </mat-hint>
        </mat-form-field>

        <!-- Role Dropdown -->
        <mat-form-field>
          <mat-label>Role</mat-label>
          <mat-select formControlName="role">
            <mat-option value="Buyer">Buyer</mat-option>
            <mat-option value="Seller">Seller</mat-option>
          </mat-select>
          <mat-error
            *ngIf="
              registerForm.get('role')?.touched &&
              registerForm.get('role')?.hasError('required')
            "
          >
            You must choose a role
          </mat-error>
        </mat-form-field>

        <div class="button">
          <button
            type="submit"
            mat-button
            [disabled]="!registerForm.valid || disableRegister"
          >
            Sign Up
          </button>
        </div>

        <mat-error>&nbsp;&nbsp;{{ errorMsg }}</mat-error>
        <p>
          Already have an account? <a [routerLink]="['../login']">Sign In</a>
        </p>
      </form>
    </mat-card-content>
  </mat-card>
</div>

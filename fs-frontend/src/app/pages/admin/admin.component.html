<div [ngClass]="{ hidden: !loading }" class="loading-container">
  <img src="/assets/loading.gif" alt="Loading..." class="loading-gif" />
</div>

<div [ngClass]="{ visible: !loading }" class="main-content">
  <div class="admin-title">Admin</div>
  <div class="admin-container">
    <mat-tab-group>
      <!-- Manage Users Tab -->
      <mat-tab label="Manage Users">
        <div class="tab-content">
          <h3>Manage Users</h3>
          <!-- Add your Manage Users content here -->
          <p>Content for managing users goes here.</p>
        </div>
      </mat-tab>

      <!-- Manage Pets Tab -->
      <mat-tab label="Manage Pets">
        <div class="tab-content">
          <h3>Manage Pets</h3>
          <div class="pet-table-container">
            <div class="search-container">
              <mat-form-field appearance="fill" class="search-bar">
                <mat-label>Search Pets</mat-label>
                <input
                  matInput
                  (input)="applyFilter($event)"
                  placeholder="Type to search"
                />
              </mat-form-field>
            </div>

            <mat-table [dataSource]="pets" class="mat-elevation-z8">
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.name }} </mat-cell>
              </ng-container>
            
              <!-- Status Column -->
              <ng-container matColumnDef="status">
                <mat-header-cell *matHeaderCellDef> Status </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.status }} </mat-cell>
              </ng-container>
            
              <!-- Animal Column -->
              <ng-container matColumnDef="animal">
                <mat-header-cell *matHeaderCellDef> Animal </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.animal }} </mat-cell>
              </ng-container>
            
              <!-- Breed Column -->
              <ng-container matColumnDef="breed">
                <mat-header-cell *matHeaderCellDef> Breed </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.breed }} </mat-cell>
              </ng-container>
            
              <!-- Birthdate Column -->
              <ng-container matColumnDef="birthdate">
                <mat-header-cell *matHeaderCellDef> Birthdate </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.birthdate }} </mat-cell>
              </ng-container>
            
              <!-- Price Column -->
              <ng-container matColumnDef="price">
                <mat-header-cell *matHeaderCellDef> Price </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.price }} </mat-cell>
              </ng-container>
            
              <!-- Location Column -->
              <ng-container matColumnDef="location">
                <mat-header-cell *matHeaderCellDef> Location </mat-header-cell>
                <mat-cell *matCellDef="let pet"> {{ pet.location }} </mat-cell>
              </ng-container>
            
              <!-- Actions Column -->
              <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
                <mat-cell *matCellDef="let pet">
                  <button mat-button color="primary" [routerLink]="['/pet', pet._id]">
                    View Details
                  </button>
                  <button mat-button color="accent" [routerLink]="['/pet/edit', pet._id]">
                    Edit
                  </button>
                  <button
                    mat-button
                    color="warn"
                    (click)="confirmDelete(pet._id)"
                  >
                    Delete
                  </button>
                </mat-cell>
              </ng-container>
            
              <!-- Header and Row Definitions -->
              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
            
            <div *ngIf="!pets || !pets.data || pets.data.length === 0">
              <p>No pets available</p>
            </div>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
